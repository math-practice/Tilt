@import 'reset', 'fonts';
@keyframes hrot {
  0% {
    font-variation-settings: 'HROT' 0;
  }
  25% {
    font-variation-settings: 'HROT' 45;
  }
  75% {
    font-variation-settings: 'HROT' -45;
  }
  100% {
    font-variation-settings: 'HROT' 0;
  }
}

/* Variables ------------------------------------------- */
$unit: 8px;
$black: #000;
$duration: 0.2s;
$line_height: $unit * 3;
$font_body: 18px;
$font_caption: 14px;
$col_width: 100vw / 6;

@mixin polka_dot {
  background-image: radial-gradient($black 12.5%, transparent 12.5%), radial-gradient($black 12.5%, transparent 12.5%);
  background-position: $unit/4 $unit/4, $unit * 1.5 / 2 + $unit/4 $unit * 1.5 / 2 + $unit/4;
  background-size: $unit * 1.5 $unit * 1.5;
}

/* Typographic defaults -------------------------------- */
* {
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  box-sizing: border-box;
}
body {
  font-family: tilt-neon;
  font-size: $font_body;
  line-height: $line_height;
}
a {
  color: $black;
  text-decoration: none;
  border-bottom: 1px solid;
  &:hover {
    border-bottom: 0;
  }
}
h1 {
  text-transform: uppercase;
  letter-spacing: 0.05em;
}
h2 {
  margin: $line_height 0;
  text-transform: uppercase;
}
p {
  margin: $line_height 0;
}
.neon {
  font-family: tilt-neon;
}
.prism {
  font-family: tilt-prism;
}
.warp {
  font-family: tilt-warp;
}

/* Layouts --------------------------------------------- */
.clearfix::after {
  content: "";
  clear: both;
  display: table;
}

nav {
  width: 100%;
  position: fixed;
  height: $unit * 6;
  border-bottom: 1px solid;
  background: #fff;
  text-align: center;
  line-height: $unit * 6;
  h1 a {
    display: inline-block;
    width: $unit * 6;
  }
  a {
    border: 0;
    &:hover {
      animation: hrot $duration*6 infinite;
    }
  }
  ul {
    line-height: $unit * 6;
    li {
      display: inline-block;
      margin: 0 $unit;
      a {
        display: block;
        text-align: center;
        width: $unit * 6; //default size
      }
    }
  }
  .primary {
    position: absolute;
    left: $unit * 2;
    top: 0;
    text-align: left;
  }
  .secondary {
    position: absolute;
    right: $unit * 2;
    top: 0;
    text-align: right;
    .google-fonts {
      width: $unit * 14;
    }
    .github {
      width: $unit * 7;
    }
    .camera {
      width: $unit * 3;
    }
  }
}
section {
  border-bottom: 1px solid;
  background: #fff;
}
section.hero {
  text-align: center;
  font-size: 45vw;
  line-height: 1em;
  cursor: pointer;
  overflow: hidden;
  -webkit-touch-callout: none; /* iOS Safari */
  -webkit-user-select: none; /* Safari */
    -khtml-user-select: none; /* Konqueror HTML */
      -moz-user-select: none; /* Old versions of Firefox */
      -ms-user-select: none; /* Internet Explorer/Edge */
          user-select: none; /* Non-prefixed version, currently
                                supported by Chrome, Opera and Firefox */
  word-break: keep-all;
  .hrot, .vrot{
    position: absolute;
    font-size: $font_caption;
    line-height: $line_height;
    margin-top: -$line_height * 1.5;
    left: $unit * 3;
  }
  .vrot {
    left: $unit * 25;
  }
  svg {
    position:absolute;
    top:0;
    left:0;
    pointer-events:none;
  }
  svg line {
    stroke:#fff;
    stroke-width:1;
  }
  svg circle {
    fill: #fff;
  }
}

section.scroller {
  font-size: $unit * 27;
  line-height:  $unit * 30;
  overflow-y: hidden;
  white-space: nowrap;
  padding: 0 $unit * 3;
}

section.information {
  background: linear-gradient(180deg, transparent calc(0% - 0.5px),$black calc(0% + 0.5px), transparent calc(0% + 1.5px));
  background-position: 0 $col_width * 2;
  .description {
    float:left;
    width: $col_width * 4;
    min-height: $col_width * 2;
    border-right: 1px solid;
    padding: $unit $col_width $unit $unit*4;
    background: #fff;
    h2, p {
      max-width: $unit * 128;
    }
  }
  .highlight {
    float:left;
    width: $col_width * 2;
    height: $col_width * 2;
    background: #fff;
    .hline {
      position:absolute;
      width: $col_width * 1.5;
      height: 1px;
      margin: $col_width $col_width * 0.25;
      background-image: linear-gradient(90deg, $black, $black 25%, transparent 25%, transparent 100%);
      background-size: $unit / 2 1px;
    }
    .vline {
      position:absolute;
      width: 1px;
      height: $col_width * 1.5 ;
      margin: $col_width * 0.25 $col_width;
      background-image: linear-gradient(0deg, $black, $black 25%, transparent 25%, transparent 100%);
      background-size: 1px $unit / 2;
    }
    .legend {
      position: absolute;
      width: $unit * 6;
      height: $unit * 3;
      &.hrot {
        left: $col_width * 5;
        margin: $unit 0 0 (- $unit * 3);
      }
      &.hmin {
        left: $col_width * 4;
        margin: $unit 0 0 $unit;
      }
      &.hmax {
        left: $col_width * 6;
        margin: $unit 0 0 (- $unit * 7);
        text-align: right;
      }
      &.vmax {
        left: $col_width * 4;
        margin: calc(33.33vw - 32px) 0 0 $unit;
      }
      &.vrot {
        left: $col_width * 4;
        margin: calc(16.67vw + 24px) 0 0 $unit;
        transform: rotate(-90deg);
        transform-origin: 0% 0%;
      }
    }
    .glyph {
      text-align: center;
      font-size: $col_width * 2;
      line-height: $col_width * 2;
    }
  }
}

section.tester {
  .ibeam {
    float:left;
    width: $unit * 15;
    border-right: 1px solid;
    height: $unit * 30;
    text-align: center;
    padding-top: $unit * 4;
  }
  .text {
    float:left;
    .slider-wrapper {
      position: absolute;
      span {
        font-size: $font_caption;
        margin-right: $unit;
      }
      &.hrot {
        margin: $unit 0 0 $unit * 2;
        .slider {
          width: $unit * 20;
        }
      }
      &.vrot {
        margin: $unit * 28 0 0 $unit;
        transform: rotate(-90deg);
        transform-origin: 0% 0%;
        .slider {
          width: $unit * 17;
        }
      }
      .slider {
        position: absolute;
        height: $unit * 2;
        margin: $unit / 2 0;
        background: transparent;
        //https://dev.to/_phzn/styling-range-sliders-with-css-4lgl
        -webkit-appearance: none;
        &:focus{
          outline: none;
        }
        &::-webkit-slider-runnable-track, &::-webkit-slider-runnable-track {
          background: $black;
          height: 1px;
        }
        &::-webkit-slider-thumb {
          -webkit-appearance: none;
          height: $unit * 2 - 1;
          width: $unit * 2 - 1;
          background: #fff;
          margin-top: - ($unit - 1);
          border: 1px solid;
          border-radius: 50%;
        }
        &::-moz-range-thumb {
          height: $unit * 2;
          width: $unit * 2;
          background: #fff;
          margin-top: - ($unit + 1);
          border: 1px solid;
          border-radius: 50%;
        }
      }
    }
    .string {
      border: 0;
      // background-color: yellow;
      overflow: scroll hidden;
      width: calc(100vw - 120px);
      height: $unit * 30;
      font-size: $unit * 27;
      line-height: $unit * 30;
      white-space: nowrap;
      padding: 0 0 0 $unit * 5;
      &:focus {
        outline: none;
      }
    }
  }
}

section.footer {
  .text {
    float:left;
    width: $col_width * 3;
    padding: 0 0 $unit * 3 $unit * 4;
    h2 {
      font-size: 36px;
      line-height: $line_height * 1.75;
      text-transform: none;
      margin:  $line_height * 1.75 0;
    }
  }
  .credit {
    float:right;
    width: $col_width * 2;
    .google {
      float: left;
      width: $col_width;
      padding: $unit * 6 0;
    }
    .detail {
      float: left;
      width: $col_width;
      ul {
        padding: $unit * 6 0;
        li {
          margin: $line_height * 0.25 0;
        }
      }
      .people {
        font-size: $font_caption;
        line-height: $line_height * 0.75;
        margin-top:0;
      }
    }
    .fineprint {
      font-size: 12px;
      line-height: 14px;
      float: left;
      width: $col_width * 2;
      padding: $unit * 6 $unit * 4 $unit * 4 0;
      p {
        margin-top:0;
      }
    }
  }
}

div.separator {
  //https://dev.to/clairecodes/how-to-create-a-polka-dot-background-with-css-23m0
  height: $unit * 12;
  border-bottom: 1px solid;
  @include polka_dot;
}